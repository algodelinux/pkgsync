pkgsync (2.57-1) ubuntu; urgency=medium

  * Solved bug at simulate function in /usr/local/sbin/pkgsync

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 07 Oct 2025 09:16:00 +0100

pkgsync (2.57) ubuntu; urgency=medium

  * Solved bug at /usr/local/sbin/softwareupdate
  * Modified /usr/local/sbin/pkgsync to perform only simulation operation when `pkgsync` 
    is running with the `-s` parameter

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Mon, 06 Oct 2025 12:26:00 +0100

pkgsync (2.56) ubuntu; urgency=medium

  * Modified /usr/local/sbin/musthave-build to generate musthave for Ubuntu Noble

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 03 Oct 2025 10:11:00 +0100

pkgsync (2.55) ubuntu; urgency=medium

  * Modified /usr/local/sbin/softwareupdate to optimize performance

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 18 Jul 2025 08:30:00 +0100

pkgsync (2.54) ubuntu; urgency=medium

  * Rewrited /usr/local/sbin/wait_for_apt_or_dpkg code to avoid locks

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Sat, 12 Jul 2025 10:41:00 +0100

pkgsync (2.53) ubuntu; urgency=medium

  * Upgraded /usr/local/sbin/launchpad-getkeys

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 30 May 2025 08:50:00 +0100

pkgsync (2.52) ubuntu; urgency=medium

  * Upgraded /usr/local/sbin/launchpad-getkeys

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 23 May 2025 11:50:00 +0100

pkgsync (2.51) ubuntu; urgency=medium

  * Solved little bug at /usr/local/sbin/pkgsync
  * Modified /usr/local/sbin/pkgsync to not update packages when running in simulation mode.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 04 Abr 2025 12:52:00 +0100

pkgsync (2.50) ubuntu; urgency=medium

  * Upgraded /usr/local/sbin/launchpad-getkeys

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 03 Abr 2025 14:00:00 +0100

pkgsync (2.49) ubuntu; urgency=medium

  * Upgraded /usr/local/sbin/launchpad-getkeys to last version
  * Upgraded /usr/local/sbin/softwareupdate to last version

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 14 Mar 2025 13:29:00 +0100

pkgsync (2.48) ubuntu; urgency=medium

  * Modified /usr/local/sbin/pkgsync to ensure installation of last kernels
    defined on KEEP_LAST_KERNELS var

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 28 Feb 2025 11:29:00 +0100

pkgsync (2.47) ubuntu; urgency=medium

  * Improved /usr/local/sbin/solve-apt-errors script
  * Modified solveapterrors function on /usr/local/sbin/pkgsync script to include
    changes made on /usr/local/sbin/solve-apt-errors script
  * Modified /usr/local/sbin/limpiapaquetes to remove packages in ic state

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 20 Feb 2025 09:49:00 +0100

pkgsync (2.46) ubuntu; urgency=medium

  * Solved bug on /usr/local/sbin/install-last-available-kernels script

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 19 Feb 2025 10:10:00 +0100

pkgsync (2.45) ubuntu; urgency=medium

  * Modified package priority to required
  * Defined package as essential
  * Added /usr/local/sbin/install-last-available-kernels script

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 19 Feb 2025 08:35:00 +0100

pkgsync (2.44) ubuntu; urgency=medium

  * Added /usr/local/sbin/install-kernel script

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 21 Ene 2025 12:37:00 +0100

pkgsync (2.43) ubuntu; urgency=medium

  * Added /usr/local/sbin/list-installed-kernels script
  * Added /usr/local/sbin/remove-kernel script
  * Upgraded /usr/local/sbin/purge-old-kernels script

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 21 Ene 2025 09:07:00 +0100

pkgsync (2.42) ubuntu; urgency=medium

  * Added THRESHOLD_FOR_APT_UPDATE var.
    Default value for THRESHOLD_FOR_APT_UPDATE is 1800 seconds. Now this
    value is configurable by user at /etc/default/pkgsync config file

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 09 Ene 2025 13:13:00 +0100

pkgsync (2.41) ubuntu; urgency=medium

  * Upgraded /usr/local/sbin/pkgsync to minimize aptitude update operations
  * Upgraded /usr/local/sbin/pkgsync to minimize aptitude upgrade operations

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 19 Dic 2024 11:14:00 +0100

pkgsync (2.40) ubuntu; urgency=medium

  * Changed facter from depends to suggests
  * Improved /usr/local/sbin/launchpad-getkeys
  * Added /usr/local/sbin/facter to exec more recient facter version

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Mon, 02 Dic 2024 10:30:00 +0100

pkgsync (2.39) ubuntu; urgency=medium

  * Modified /usr/local/sbin/pkgsync to prevent aptitude abort process
  * Modified /usr/local/sbin/pkgsync to let use it on a system without puppet
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 12 Jun 2024 18:03:00 +0100

pkgsync (2.38) ubuntu; urgency=medium

  * Modified /usr/local/sbin/pkgsync to abort on mirror sync fail
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Mon, 10 Mar 2024 09:57:00 +0100

pkgsync (2.37) ubuntu; urgency=medium

  * Modified package to create /etc/pkgsync/mayhave.d, 
    /etc/pkgsync/maynothave.d and /etc/pkgsync/musthave.d at install
  * Modified /usr/local/sbin/softwareupdate to create /tmp/failedrepositories
  * Modified /usr/local/sbin/musthave-build to create musthave on bullseye
    and bookworm
  * Added lsb-release dependency to pkgsync package
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Mon, 07 Feb 2024 07:40:00 +0100

pkgsync (2.36) ubuntu; urgency=medium

  * Modified /usr/local/sbin/pkgsync to create /etc/pkgsync/mayhave.d, 
    /etc/pkgsync/maynothave.d and /etc/pkgsync/musthave.d if they don't exist
  * Added option -C, --clean-and-purge option
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Mon, 05 Feb 2024 19:19:00 +0100

pkgsync (2.35-3) ubuntu; urgency=medium

  * Modified /usr/local/sbin/pkgsync to generate /etc/pkgsync/musthave if the file 
    is empty
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Mon, 29 Jan 2024 18:32:00 +0100

pkgsync (2.35-2) ubuntu; urgency=medium

  * Modified /usr/local/sbin/pkgsync to enhance the removal of expired keys
  * Modified /usr/local/sbin/apt-list-expired-keys to enhance the listing of expired keys
  * Modified /usr/local/sbin/apt-remove-expired-keys to enhance the removal of expired keys
  * Modified /usr/local/sbin/launchpad-getkeys to enhance the removal of expired keys
  * Set LAUNCHPAD_GETKEYS_REMOVE_EXPIRED_KEYS="no" in /etc/default/pkgsync to enhance the removal of expired keys 
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 25 Jan 2024 13:11:00 +0100

pkgsync (2.35-1) ubuntu; urgency=medium

  * Added gpg dependency to pkgsync package
  * Removed sudo from all scripts
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 23 Jan 2024 14:25:00 +0100

pkgsync (2.35) ubuntu; urgency=medium

  * Upgraded /usr/local/sbin/softwareupdate version
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 23 Jan 2024 10:19:00 +0100

pkgsync (2.34-2) ubuntu; urgency=medium

  * Modified /usr/local/sbin/solve-apt-errors to improve error correction
  * Modified /usr/local/sbin/pkgsync to improve error correction
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 16 Jan 2024 16:59:00 +0100

pkgsync (2.34-1) ubuntu; urgency=medium

  * Modified /usr/local/sbin/solve-apt-errors to improve error correction
  * Modified /usr/local/sbin/pkgsync to improve error correction
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 16 Jan 2024 16:59:00 +0100

pkgsync (2.34) ubuntu; urgency=medium

  * Modified /usr/local/sbin/solve-apt-errors to enhance error correction
  * Modified /usr/local/sbin/pkgsync to enhance error correction
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 16 Jan 2024 13:41:00 +0100

pkgsync (2.33-1) ubuntu; urgency=medium

  * Modified DEBIAN/postinst to use short password for user pkgsync
  * Upgraded /usr/local/sbin/launchpad-getkeys script to last version
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 16 Jan 2024 10:32:00 +0100

pkgsync (2.33) ubuntu; urgency=medium

  * Upgraded /usr/local/sbin/download_pkg_and_deps script to last version
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 25 Oct 2023 10:20:00 +0100

pkgsync (2.32-3) ubuntu; urgency=medium

  * Remove user pkgsync from sudo group if is member of this group
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 03 Oct 2023 8:30:00 +0100

pkgsync (2.32-2) ubuntu; urgency=medium

  * Upgraded DEBIAN/postinst and DEBIAN/postrm
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 18 Aug 2023 18:26:00 +0100

pkgsync (2.32-1) ubuntu; urgency=medium

  * Modified /usr/local/sbin/list-essential-packages permissions to 755
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 18 Aug 2023 12:19:00 +0100

pkgsync (2.32) ubuntu; urgency=medium

  * Modified /usr/local/sbin/solve-apt-errors to improve removing of inconsistent packages
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 14 Jun 2023 13:48:00 +0100

pkgsync (2.31) ubuntu; urgency=medium

  * Modified DEBIAN/postinst and DEBIAN/postrm to work without systemd
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 13 Jun 2023 14:01:00 +0100

pkgsync (2.30) ubuntu; urgency=medium

  * Replaced apt with apt-get on /usr/local/sbin/softwareupdate
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 24 May 2023 12:18:00 +0100

pkgsync (2.29) ubuntu; urgency=medium

  * Upgraded /usr/local/sbin/softwareupdate version
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 31 Mar 2023 09:37:00 +0100

pkgsync (2.28) ubuntu; urgency=medium

  * Modified /usr/local/sbin/solve-apt-errors script and solveapterrors funcion in 
    /usr/local/sbin/pkgsync to introduce wait times before some operation with system
    package manager
  * Defined default values for TIMEOUT_FOR_DPKG_OR_APT and TIMEOUT_FOR_SINC_PUPPET
    in /usr/local/sbin/solve-apt-errors script
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 09 Mar 2023 12:34:00 +0100

pkgsync (2.27-1) ubuntu; urgency=medium

  * Fixed bug on /usr/local/sbin/solve-apt-errors
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 24 Feb 2023 11:20:00 +0100

pkgsync (2.27) ubuntu; urgency=medium

  * Modified /usr/local/sbin/pkgsync to generate /etc/pkgsync/musthave if it doesn't
    exist
  * Modified /usr/local/sbin/pkgsync to create empty /etc/pkgsync/mayhave if it doesn't
    exist
  * Modified /usr/local/sbin/pkgsync to create empty /etc/pkgsync/maynothave if it doesn't
    exist
  * Modified /usr/local/sbin/musthave-build to show colored messages
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 22 Feb 2023 13:40:00 +0100

pkgsync (2.26) ubuntu; urgency=medium

  * Upgraded /usr/local/sbin/musthave-minimize
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 17 Feb 2023 16:33:00 +0100

pkgsync (2.25) ubuntu; urgency=medium

  * Upgraded /usr/local/sbin/solve-apt-errors
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 17 Feb 2023 13:09:00 +0100

pkgsync (2.24-1) ubuntu; urgency=medium

  * Applied small corrections in the code
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 16 Feb 2023 09:18:00 +0100

pkgsync (2.24) ubuntu; urgency=medium

  * Removed eliminar_kernels call from beginning on /usr/local/sbin/pkgsync
  * Moved upgrade packages call to beginning on /usr/local/sbin/pkgsync
  * Ensured aptitude update at beginning
  * It is possible force pkgsync from command line using -f --force option 
    when ENABLE="onlyupgrade" on /etc/default/pkgsync
  * Improved code
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Sat, 11 Feb 2023 07:14:00 +0100

pkgsync (2.23) ubuntu; urgency=medium

  * Modified DEBIAN/postinst to create pkgsync primary group if doesn't exists
  * and set group permissions for /var/home/pkgsync 
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Sat, 28 Jan 2023 08:42:00 +0100

pkgsync (2.22) ubuntu; urgency=medium

  * Added /usr/local/sbin/purge-old-kernels v3
  * Modified /usr/local/sbin/pkgsync to show the list of installed kernels
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 26 Jan 2023 11:47:00 +0100

pkgsync (2.21) ubuntu; urgency=medium

  * Modified /usr/local/sbin/pkgsync to let reboot or shutdown computer when  ENABLE="onlyupgrade"
   on /etc/default/pkgsync config file

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 23 Jan 2023 13:51:00 +0100

pkgsync (2.20) ubuntu; urgency=medium

  * Modified /usr/local/sbin/musthave-build to generate musthave list for ubuntu jammy, backing musthave
    file if exists

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 12 Ene 2023 16:58:00 +0100

pkgsync (2.19) ubuntu; urgency=medium

  * Agregada una nueva opción para la variable ENABLE en el fichero de configuración
    /etc/default/pkgsync:

    # Activar o desactivar pkgsync:
    #  ENABLE="yes": activa pkgsync (opción por defecto)
    #  ENABLE="no": desactiva pkgsync
    #  ENABLE="onlyupgrade": no instala ni desinstala paquetes. Tan sólo actualiza los ya instalados
    #  Si no existe la variable ENABLE o no tiene valor, es equivalente al valor 'yes'.
    ENABLE="yes"

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 08 Nov 2022 13:14:00 +0100

pkgsync (2.18-1) ubuntu; urgency=medium

  * Agregada la versión actualizada de /usr/local/sbin/apt-remove-expired-keys que 
    no había sido agregada por error en la versión anterior

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 28 Oct 2022 12:33:00 +0100

pkgsync (2.18) ubuntu; urgency=medium

  * Agregada la versión actualizada de /usr/local/sbin/apt-list-expired-keys que 
    permite listar claves caducadas de repositorios sin usar apt-key que se encuentra 
    marcado como DEPRECATED
  * Agregada la versión actualizada de /usr/local/sbin/apt-remove-expired-keys que 
    permite eliminar claves caducadas de repositorios sin usar apt-key que se encuentra 
    marcado como DEPRECATED
  * Agregada la versión actualizada de /usr/local/sbin/launchpad-getkeys que incorpora
    las nuevas versiones de apt-list-expired-keys y apt-remove-expired-keys

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 28 Oct 2022 11:15:00 +0100

pkgsync (2.17) ubuntu; urgency=medium

  * Añadida opción -e, --ensure-essential que permite asegurar que no se desinstalen los paquetes
    esenciales instalados en el sistema agregándolos a la mezcla de ficheros musthave.
    Consideramos paquetes esenciales del sistema aquellos cuya prioridad es required, important 
    y standard.
  * Añadida opción ENSURE_ESSENTIAL al fichero /etc/default/pkgsync para permitir definir el
    comportamiento por defecto de pkgsync a la hora de garantizar que no se desinstalen paquetes 
    con prioridad required, important y standard
    # ENSURE_ESSENTIAL="yes": Garantizar que no se desinstalan paquetes esenciales
    # ENSURE_ESSENTIAL="no": No controlar la desinstalación de paquetes esenciales (opción por defecto)

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 08 Jun 2022 09:19:00 +0100

pkgsync (2.16) ubuntu; urgency=medium

  * Eliminado apt-get -y autoremove de /usr/local/sbin/limpiapaquetes para evitar la 
    eliminación automática de kernels antiguos que deja tan sólo los dos últimos.
  * Agregegada la comprobación de que existe el ejecutable /usr/local/sbin/wait_for_apt_or_dpkg
    a los scripts /usr/local/sbin/pkgsync, /usr/local/sbin/softwareupdate,
    /usr/local/sbin/solve-apt-errors y /usr/local/sbin/limpiapaquetes.
  * Agregada la comprobación de que los scripts que lo requieran se ejecutan con
    permisos de root.
  * Modificado el código de /usr/local/sbin/clean-pkgsync-files para que ignore las
    los comentarios en los ficheros de listas de paquetes. 
  * Agregada variable ALERT_EMAIL_RECEIVER al fichero de configuración /etc/default/pkgsync
    para permitir definir un destinatatio de alertas. Por defecto, no se define ningún 
    email.
  * Agregada variable ALERT_EMAIL_ON_ERROR al fichero de configuración /etc/default/pkgsync
    para permitir habilitar el envío de un email al destinatario definido en la variable
    ALERT_EMAIL_RECEIVER cuando se produzca algún error.
    Para que se envíe el email, es necesario tener configurado un servicio como postfix o 
    ssmtp en el equipo.
  * Eliminado el volcado al fichero /var/log/pkgsync.log de la tarea cron que lo inicia.
    A partir de ahora la redirección de la salida al fichero /var/log/pkgsync.log
    se realiza desde el propio script /usr/local/sbin/pkgsync  

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 01 Jun 2022 17:00:00 +0100

pkgsync (2.15) ubuntu; urgency=medium

  * Modificado /usr/local/sbin/pkgsync para que al ejecutar /usr/local/sbin/purge-old-kernels
    se haga con las opciones -qy
  * Eliminado apt-get -y autoremove de /usr/local/sbin/pkgsync para evitar la 
    eliminación automática de kernels antiguos que deja tan sólo los dos últimos.
    Con /usr/local/sbin/purge-old-kernels garantizamos que se mantenga el número
    de kernels que nosotros queramos.
  * Eliminado apt-get -y autoremove de /usr/local/sbin/solve-apt-errors para evitar la 
    eliminación automática de kernels antiguos que deja tan sólo los dos últimos.
  * Eliminado apt-get -y autoremove de /usr/local/sbin/softwareupdate para evitar la 
    eliminación automática de kernels antiguos que deja tan sólo los dos últimos.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 25 May 2022 12:31:00 +0100

pkgsync (2.14) ubuntu; urgency=medium

  * Introducida nueva versión de /usr/local/sbin/purge-old-kernels en la que
    se han agregado las siguientes opciones para apt-get: -q, -y, -o
  * Modificada manpage de purge-old-kernels

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 24 May 2022 08:55:00 +0100

pkgsync (2.13) ubuntu; urgency=medium

  * Introducida nueva versión de /usr/local/sbin/purge-old-kernels en la que
    se han ampliado los parámetros soportados por la herramienta
  * Modificada manpage de purge-old-kernels

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 20 May 2022 10:42:00 +0100

pkgsync (2.12) ubuntu; urgency=medium

  * Introducida la versión mejorada de /usr/local/sbin/purge-old-kernels

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 18 May 2022 19:29:00 +0100

pkgsync (2.11) ubuntu; urgency=medium

  * Establecido el valor por defecto TIMEOUT_FOR_SINC_PUPPET="5" en el código de 
    /usr/local/sbin/pkgsync para garantizar que la variable TIMEOUT_FOR_SINC_PUPPET
    tiene un valor aunque se haya eliminado del fichero de configuración
    /etc/default/pkgsync
  * Depurado el código de la función solveapterrors() en /usr/local/sbin/pkgsync

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 29 Abr 2022 12:01:00 +0100

pkgsync (2.10) ubuntu; urgency=medium

  * Modificada la documentación y mensajes informativos en el código de algunos scripts

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 27 Abr 2022 13:54:00 +0100

pkgsync (2.09) ubuntu; urgency=medium

  * Mejorado el código del script /usr/local/sbin/solve-apt-errors
  * Modificado el código del script /usr/local/sbin/backup-repositories
  * Modificado el código del script /usr/local/sbin/restore-backup-repositories
  * Modificado el código del script /usr/local/sbin/remove-backup-repositories
  * Modificado el código del script /usr/local/sbin/list-backup-repositories

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Mon, 25 Abr 2022 13:29:00 +0100

pkgsync (2.08) ubuntu; urgency=medium

  * Mejorado el código del script /usr/local/sbin/musthave-minimize

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 20 Abr 2022 10:43:00 +0100

pkgsync (2.07) ubuntu; urgency=medium

  * Mejorado el código del script /usr/local/sbin/solve-apt-errors
  * Mejorado el código del script /usr/local/sbin/pkgsync

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 04 Feb 2022 08:52:00 +0100

pkgsync (2.06) ubuntu; urgency=medium

  * Modificado script /usr/local/sbin/solve-apt-errors para desinstalar paquetes 
    en estado de inconsistencia

  * Agregada desinstalación de paquetes en estado de inconsistencia al script
    /usr/local/sbin/pkgsync

  * Añadida opción -i, --ignore-failed-repos que permite ignorar los repositorios
    que fallen cuando se ejecuta pkgsync en modo interactivo

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 21 Jan 2022 13:57:00 +0100

pkgsync (2.05) ubuntu; urgency=medium

  * Modificado script /usr/local/sbin/download_pkg_and_deps que permite descargar
    un paquete pasado como parámetro junto a sus dependencias en un directorio
    con el nombre del paquete.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 17 Nov 2021 10:46:00 +0100

pkgsync (2.04) ubuntu; urgency=medium

  * Añadida opción AUTO_TEST_FILES al fichero de configuración /etc/default/pkgsync 
    que permite elegir si queremos que pkgsync chequee automáticamente los ficheros
    de listas de paquetes.
    # AUTO_TEST_FILES="yes": Habilitar la revisión automática de las listas de paquetes
    # AUTO_TEST_FILES="no": Deshabilitar la revisión automática de las listas de 
      paquetes (opción por defecto)

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Mon, 01 Jun 2021 09:17:00 +0100

pkgsync (2.03) ubuntu; urgency=medium

  * Modificado /usr/local/sbin/pkgsync para que ignore comentarios al realizar 
    el chequeo de paquetes.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Mon, 24 May 2021 13:53:00 +0100

pkgsync (2.02) ubuntu; urgency=medium

  * Modificado /usr/local/sbin/purge-old-kernels para no eliminar directorios de kernels 
    desinstalados de /lib/modules en máquinas con proxmox.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 09 Abr 2021 11:16:00 +0100

pkgsync (2.01) ubuntu; urgency=medium

  * Modificado /usr/local/sbin/pkgsync para permitir el uso de comentarios también 
    en la misma línea donde se define el nombre de un paquete.

  * Modificado /usr/local/sbin/softwareupdate para realizar una actualización de
    paquetes de forma desatendida.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 22 Mar 2021 12:15:00 +0100

pkgsync (2.0) ubuntu; urgency=medium

  * Modificado pkgsync para realizar una actualización previa de paquetes antes de
    proceder a instalar/desinstalar paquetes de las listas

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 16 Mar 2021 08:50:00 +0100

pkgsync (1.99) ubuntu; urgency=medium

  * Corregido bug en softwareupdate por el que no se comprobaba bien si sinc_puppet
    ya estaba corriendo

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Mon, 15 Mar 2021 13:42:00 +0100

pkgsync (1.98) ubuntu; urgency=medium

  * Añadida función killprocess al script softwareupdate

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 03 Mar 2021 09:30:00 +0100

pkgsync (1.97) ubuntu; urgency=medium

  * Modificado preinst para crear el directorio /var/log/pkgsync, si no está creado.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 02 Mar 2021 12:02:00 +0100

pkgsync (1.96) ubuntu; urgency=medium

  * Modificado script /usr/local/sbin/softwareupdate para realizar una espera
    en caso de que se esté realizando una actualización de índices o paquetes
    y se resuelvan problemas de paquetes a medio instalar.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 26 Feb 2021 12:58:00 +0100

pkgsync (1.95) ubuntu; urgency=medium

  * Agregado script /usr/local/sbin/download_pkg_and_deps que permite descargar
    un paquete pasado como parámetro junto a sus dependencias en un directorio
    con el nombre del paquete. 

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 10 Feb 2021 13:14:00 +0100

pkgsync (1.94) ubuntu; urgency=medium

  * Modificado /usr/local/sbin/pkgsync para permitir el uso de comentarios en los
    ficheros de listas de paquetes.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 9 Feb 2021 16:35:00 +0100

pkgsync (1.93) ubuntu; urgency=medium

  * Añadido script /usr/local/sbin/disable-pkgsync-terminal que permite deshabilitar
    el inicio automático del usuario pkgsync en el terminal 12.
  * Añadido script /usr/local/sbin/enable-pkgsync-terminal que permite habilitar
    el inicio automático del usuario pkgsync en el terminal 12.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Sun, 7 Feb 2021 12:01:00 +0100

pkgsync (1.92) ubuntu; urgency=medium

  * Añadida nueva versión del script /usr/local/sbin/softwareupdate.
  * Añadido script /usr/local/sbin/remove-all-repositories que permite borrar 
    todos los ficheros de repositorios añadidos en /etc/apt/sources.list.d/.
  * Añadida opción PUPPET_SERVER al fichero de configuración 
    /etc/default/pkgsync que nos permite indicar el nombre o la IP del servidor
    puppet:
    # PUPPET_SERVER="puppetinstituto"
    Con esta opción evitaremos ejecutar sinc_puppet si el servidor puppet
    no responde. 
  * Modificado /usr/local/sbin/pkgsync para:
    - Comentar (en lugar de borrar) en los ficheros de listas de paquetes los nombres 
      de los paquetes que no se encuentran en los repositorios.
    - Ignorar los nombres de los paquetes que se encuentran comentados en los ficheros
      de listas.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 5 Feb 2021 20:47:00 +0100

pkgsync (1.91) ubuntu; urgency=medium

  * Añadida nueva versión del script /usr/local/sbin/launchpad-getkeys que permite 
    eliminar claves públicas de repositorios expiradas.
  * Añadida opción LAUNCHPAD_GETKEYS_REMOVE_EXPIRED_KEYS al fichero de configuración 
    /etc/default/pkgsync para permitir eliminar claves públicas de repositorios 
    caducadas desde pkgsync:
    # LAUNCHPAD_GETKEYS_REMOVE_EXPIRED_KEYS="yes": indicar a launchpad-getkeys que 
      elimine claves públicas caducadas
    # LAUNCHPAD_GETKEYS_REMOVE_EXPIRED_KEYS="no": no indicar a launchpad-getkeys que 
      elimine claves públicas caducadas (opción por defecto)

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 21 Dic 2020 11:40:00 +0100

pkgsync (1.90) ubuntu; urgency=medium

  * Añadida nueva versión del script launchpad-getkeys

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 18 Dic 2020 10:59:00 +0100

pkgsync (1.89) ubuntu; urgency=medium

  * Añadida nueva versión de purge-old-kernels que purga también los paquetes  
    linux-modules desinstalados

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 16 Dic 2020 09:46:00 +0100

pkgsync (1.88) ubuntu; urgency=medium

  * Añadido permiso a /etc/sudoers.d/pkgsync para que el usuario pkgsync pueda 
    ejecutar el script /usr/local/sbin/softwareupdate

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 15 Dic 2020 10:39:00 +0100

pkgsync (1.87) ubuntu; urgency=medium

  * Mejorado el código de /usr/local/sbin/purge-old-kernels que realiza la limpieza
    de kernels desintalados, headers y módulos después de eliminar kernels antiguos
  * Añadidos el script /usr/local/sbin/apt-list-expired-keys que permite obtener un
    listado de claves públicas de repositorios expiradas.
  * Añadidos el script /usr/local/sbin/apt-remove-expired-keys que permite eliminar
    del anillo de claves las claves públicas de repositorios expiradas.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 15 Dic 2020 00:02:00 +0100

pkgsync (1.86) ubuntu; urgency=medium

  * Añadida nueva versión de /usr/local/sbin/purge-old-kernels que realiza la limpieza
    de kernels desintalados, headers y módulos después de eliminar kernels antiguos

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Mon, 14 Dic 2020 09:11:00 +0100

pkgsync (1.85) ubuntu; urgency=medium

  * Modificado script /usr/local/sbin/softwareupdate para que antes de utilizar apt o
    dpkg espere si se está realizando una actualización de índices o de paquetes

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 11 Dic 2020 09:46:00 +0100

pkgsync (1.84) ubuntu; urgency=medium

  * Añadidos /etc/default/launchpad-getkeys, /etc/default/pkgsync y /etc/sudoers.d/pkgsync
    a DEBIAN/conffiles

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 09 Dic 2020 11:12:00 +0100

pkgsync (1.83) ubuntu; urgency=medium

  * Modificados a 755 los permisos de los scripts /usr/local/sbin/enable-disabled-repositories,
    /usr/local/sbin/enable-non-failed-repositories y /usr/local/sbin/softwareupdate

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 09 Dic 2020 10:59:00 +0100

pkgsync (1.82) ubuntu; urgency=medium

  * Añadido a /usr/local/sbin/ el script softwareupdate que permite actualizar el  
    software instalado mediante apt, snap o flatpak y realizar limpieza
  * Habilitado en el fichero /etc/sudoers.d/pkgsync el permiso del usuario pkgsync para 
    ejecutar el script /usr/local/sbin/softwareupdate

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 02 Dic 2020 09:23:00 +0100

pkgsync (1.81) ubuntu; urgency=medium

  * Deshabilitado en el fichero /etc/sudoers.d/pkgsync el permiso del usuario pkgsync para 
    ejecutar los siguientes scripts:
    - /usr/local/sbin/clean-pkgsync-files
    - /usr/local/sbin/disable-failed-repositories
    - /usr/local/sbin/enable-disabled-repositories
    - /usr/local/sbin/enable-non-failed-repositories
    - /usr/local/sbin/musthave-build
    - /usr/local/sbin/musthave-minimize
    - /usr/local/sbin/remove-backup-repositories
    - /usr/local/sbin/remove-failed-repositories
    - /usr/local/sbin/restore-backup-repositories
    Se dejan comentados por si alguien quiere editar el fichero para habilitar el permiso.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Mon, 30 Nov 2020 08:46:00 +0100

pkgsync (1.80) ubuntu; urgency=medium

  * Añadida modificación para que pkgsync se ejecute aunque el fichero /etc/pkgsync/musthave 
    no exista en el cliente (Modificación introducida por Ismael Campos).
  * Añadida nueva opción ABORT_ON_FAILED_REPOS al fichero /etc/default/pkgsync qye nos permite 
    elegir entre abortar la ejecución de pkgsync cuando alguno de los repositorios falle o 
    continuar la ejecución ignorando los repositorios que fallan.
    # ABORT_ON_FAILED_REPOS="yes": abortar la ejecución si alguno de los repositorios da error (opción por defecto)
    # ABORT_ON_FAILED_REPOS="no": continuar la ejecución ignorando los repositorios que fallan
  * Añadido a /usr/local/sbin/ el script list-failed-repositories para listar los ficheros de 
    repositorios alojados en /etc/apt/sources.list.d/ que fallan

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 17 Nov 2020 10:47:00 +0100

pkgsync (1.79) ubuntu; urgency=medium

  * Añadidos los siguientes scripts a /usr/local/sbin/: 
    - backup-repositories: Realiza un backup de los repositorios alojados en el directorio 
      /etc/apt/ en ficheros con extensión .orig
    - restore-backup-repositories: Restaura el backup de los repositorios alojados en /etc/apt
    - remove-failed-repositories: Elimina de /etc/apt/sources.list.d/ los repositorios
    - disable-failed-repositories: Deshabilita en /etc/apt/sources.list.d/ los repositorios
      que hayan fallado añadiendoles la extensión .disabled.
    - remove-backup-repositories: Elimina de /etc/apt/ los ficheros de backup de repositorios
      con extensión .save y .orig
    - list-backup-repositories: Lista los ficheros de backup de repositorios alojados en /etc/apt

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 17 Nov 2020 10:47:00 +0100

pkgsync (1.78) ubuntu; urgency=medium

  * Modificado /usr/local/sbin/pkgsync para mejorar el testeo de ficheros. 
  * Modificado /usr/local/sbin/clean-pkgsync-files para mejorar el proceso de limpieza 
    de ficheros.
  * Actualizado /usr/local/sbin/limpiapaquetes a nueva versión que además de realizar
    limpieza de paquetes deb, limpia paquetes snap y flatpak.
    
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 23 May 2020 11:49:00 +0100

pkgsync (1.77) ubuntu; urgency=medium

  * Modificada comprobación de ejecución de sinc_puppet en /usr/local/sbin/pkgsync para 
    garantizar su buen funcionamiento.
  * Separadas las comprobaciones de apagado manual y programado.
  * Separadas las comprobaciones de reinicio manual y programado.
    
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 23 May 2020 11:49:00 +0100

pkgsync (1.76) ubuntu; urgency=medium

  * Modificado /usr/local/sbin/pkgsync para abortar el proceso si alguno de los repositorios
    no se encuentra accesible.
    
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Wed, 29 Abr 2020 08:54:00 +0100

pkgsync (1.75) ubuntu; urgency=medium

  * Añadida opción -d, --delete-files para eliminar todos los ficheros de listas de pkgsync.
  * Añadida opción -b, --build-musthave para generar el fichero /etc/pkgsync/musthave y
    crear los ficheros /etc/pkgsync/mayhave y /etc/pkgsync/maynothave si no existen.
    
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 11 Feb 2020 11:19:00 +0100

pkgsync (1.74) ubuntu; urgency=medium

  * Modificado /usr/local/sbin/pkgsync para garantizar la actualización de paquetes
    aunque se haya introducido un nombre de paquete que no se encuentra en los repositorios.
    Este es un problema derivado del funcionamiento actual de aptitude, que aborta
    la actualización de paquetes cuando se le pide instalar/desinstalar un paquete
    que no existe en los repositorios.
  * Mejorada la gestión de paquetes mediante solve-apt-errors para tratar de instalar 
    paquetes medio instalados (en estado ^iF y ^ri).
  * Añadida opción -v para mostrar la versión de pkgsync.
    
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 07 Feb 2020 11:08:00 +0100

pkgsync (1.73) ubuntu; urgency=medium

  * Modificado /usr/local/sbin/pkgsync para garantizar el reinicio en Windows
    cuando se utiliza la opción -Rw

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 08 Oct 2019 08:44:00 +0100

pkgsync (1.72) ubuntu; urgency=medium

  * Modificado launchpad-getkeys para obtener configuración del proxy del fichero de 
    configuración /etc/default/launchpad-getkeys. Incluir información del proxy en 
    este fichero es opcional.
  * Realizada modificación en sudoers para permitir que el usuario pkgsync tenga 
    permisos para ejecutar clean-pkgsync-files, launchpad-getkeys, musthave-build,
    solve-apt-errors, get-package-dependencies, limpiapaquetes, musthave-minimize,
    purge-old-kernels y  wait_for_apt_or_dpkg además de pkgsync.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 13 Jun 2019 13:29:00 +0100

pkgsync (1.71) ubuntu; urgency=medium

  * Modificado pkgsync para garantizar el reinicio en Windows cuando el sistema operativo
    se encuentra en otro disco

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Mon, 20 May 2019 11:25:00 +0100

pkgsync (1.70) ubuntu; urgency=medium

  * Modificada funcion solveapterrors para tratar de reinstalar paquetes a medio instalar
    sólo si los hay

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Fri, 08 Mar 2019 13:53:00 +0100

pkgsync (1.69) ubuntu; urgency=medium

  * Modificado pkgsync para esperar si se están realizando actualización de paquetes
    o índices desde el entorno gráfico

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 19 Feb 2019 10:39:00 +0100

pkgsync (1.68) ubuntu; urgency=medium

  * Modificado bug en función solveapterrors por el que se solicitaba
    confirmación al usuario para instalar paquetes medio instalados

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 31 Ene 2019 13:45:00 +0100

pkgsync (1.67) unstable; urgency=low

  * Improved solve-apt-errors script and added same code to pkgsync

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 31 Ene 2019 11:06:00 +0100

pkgsync (1.66) unstable; urgency=low

  * Improved solve-apt-errors script and added same code to pkgsync

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 30 Ene 2019 12:36:00 +0100

pkgsync (1.65) unstable; urgency=low

  * Improved solve-apt-errors script and added same code to pkgsync

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 29 Ene 2019 19:01:00 +0100

pkgsync (1.64) unstable; urgency=low

  * Improved solve-apt-errors script and added same code to pkgsync

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 25 Ene 2019 14:00:00 +0100

pkgsync (1.63) unstable; urgency=low

  * Improved solve-apt-errors script and added same code to pkgsync

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Thu, 24 Ene 2019 14:11:00 +0100

pkgsync (1.62) unstable; urgency=low

  * Replaced apt-get by aptitude in /usr/share/linex-ubuntu-puppet/sinc_puppet to 
    solve apt errors
  * Added script solve-apt-errors to let solve apt errors without pkgsync

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  Tue, 23 Ene 2019 10:47:00 +0100

pkgsync (1.61) unstable; urgency=low

  * Added script /usr/local/sbin/clean-pkgsync-files
  * Removed deprecated support for dpkg-style globbing, --dpkg-glob and --aptitude-glob
    options

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  15 Ene 2019 11:15:00 +0100

pkgsync (1.60) unstable; urgency=low

  * Modified script /usr/local/sbin/musthave-minimize 

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  13 Ene 2019 21:49:00 +0100

pkgsync (1.59) unstable; urgency=low

  * Create user pkgsync, added user pkgsync to sudoers and added getty@tty12.service to 
    /lib/systemd/system. Now, we can change to tty12 and do "sudo pkgsync" as user
    pkgsync to upgrade the machine.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  22 Jul 2018 10:47:00 +0100

pkgsync (1.58) unstable; urgency=low

  * Added new parameters to /usr/local/sbin/pkgsync:
      -n, --no-sincpuppet : don't launch sinc_puppet from pkgsync
      -g, --get-keys      : exec launchpad-keys to get repositories keys

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  20 Jul 2018 18:11:00 +0100

pkgsync (1.57) unstable; urgency=low

  * Removed option -r, --remove-orphan-libs

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  11 Jul 2018 13:47:00 +0100

pkgsync (1.56) unstable; urgency=low

  * Added parameter --no-guess-dummy to deborphan command in pkgsync
  * Added script /usr/local/sbin/get-package-dependencies to list package dependencies
  * Added script /usr/local/sbin/musthave-minimize to minimize /etc/pkgsync/musthave removing
    packages and their dependencies included on files located at /etc/pkgsync/musthave.d

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  29 Jun 2018 07:47:00 +0100

pkgsync (1.55) unstable; urgency=low

  * Added new option to /etc/default/pkgsync:
    # Es posible indicar un proxy a launchpad-getkeys para obtener las claves de repositorios
    # LAUNCHPAD_GETKEYS_PROXY="": no utilizar proxy
    # LAUNCHPAD_GETKEYS_PROXY="http://servidor:3128": utilizar un proxy específico
    LAUNCHPAD_GETKEYS_PROXY="http://servidor:3128"

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  27 Jun 2018 11:28:00 +0100

pkgsync (1.54) unstable; urgency=low

  * Modified /usr/local/sbin/pkgsync to show info about "file: package" when -t, --test-files is used

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  18 Jun 2018 21:00:00 +0100

pkgsync (1.53) unstable; urgency=low

  * Modified /usr/local/sbin/musthave-build to generate musthave list for ubuntu bionic, backing musthave
    file if exists

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  18 Jun 2018 21:00:00 +0100

pkgsync (1.52) unstable; urgency=low

  * Added /usr/sbin/pkgsync wrapper to inhibit shutdown if systemd is installed when pkgsync is running

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  25 May 2018 11:42:00 +0100

pkgsync (1.51) unstable; urgency=low

  * Added r argument to -t, --test-files option to let remove packages non existents from file lists

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  24 May 2018 12:33:00 +0100

pkgsync (1.50) unstable; urgency=low

  * Solved a bug: Empty /etc/pkgsync/musthave.orphan when not exists orphan files

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  23 May 2018 13:09:00 +0100

pkgsync (1.49) unstable; urgency=low

  * Modified /usr/local/sbin/pkgsync to avoid simultaneous execution of multiple instances of pkgsync

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  23 May 2018 11:04:00 +0100

pkgsync (1.48) unstable; urgency=low

  * Added an optional argument (w)  to -R, --reboot option to let reboot into windows after pkgsync execution
    This new argument is only for computers with EFI

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  21 May 2018 13:28:00 +0100

pkgsync (1.47) unstable; urgency=low

  * Added  new option to /etc/default/pkgsync:
    # Iniciar Windows al reiniciar el equipo automáticamente en el intervalo especificado
    # AUTOMATIC_REBOOT_INTO_WINDOWS="no": no iniciar windows tras el reinicio en el intervalo especificado
    # AUTOMATIC_REBOOT_INTO_WINDOWS="yes": iniciar windows tras el reinicio en el intervalo especificado
    AUTOMATIC_REBOOT_INTO_WINDOWS="no"

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  16 May 2018 12:00:00 +0100
	
pkgsync (1.46) unstable; urgency=low

  * Modified /etc/default/pkgsync and /usr/local/sbin/pkgsync to let select the number of kernels to keep

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  21 Feb 2018 12:51:00 +0100

pkgsync (1.45) unstable; urgency=low

  * Modified nightly-pkgsync to inhibit shutdown or reboot if systemd is installed in all cases

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  06 Feb 2018 13:51:00 +0100

pkgsync (1.44) unstable; urgency=low

  * Modified nightly-pkgsync to inhibit shutdown or reboot if systemd is installed

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  06 Feb 2018 12:08:00 +0100

pkgsync (1.43) unstable; urgency=low

  * Modified checking of wait_for_apt_or_dpkg function in pkgsync

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  29 Jan 2018 11:48:00 +0100

pkgsync (1.42) unstable; urgency=low

  * Modified purge-old-kernels to remove old uninstalled kernels
  * Modified purge-old-kernels to remove old kernel headers

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  25 Jan 2018 13:12:00 +0100

pkgsync (1.41) unstable; urgency=low

  * Modified purge-old-kernels to no request confirmation

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  20 Oct 2017 12:15:00 +0100

pkgsync (1.40) unstable; urgency=low

  * Solved a misprint in man
  * Modified purge-old-kernels to do remove dependencies installed on kernel upgrade
  * Modified pkgsync to execute wait_for_apt_or_dpkg before shutdown or reboot to ensure
    do not shutdown system when packages are installed

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  07 Jul 2017 12:24:00 +0100

pkgsync (1.39) unstable; urgency=low

  * Solved a bug: Pkgsync could not be disabled

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  16 Mar 2017 11:58:00 +0100

pkgsync (1.38) unstable; urgency=low

  * Added  new option to /etc/default/pkgsync:
    # AUTOMATIC_REBOOT_BETWEEN="": Don't reboot computer after pkgsync (default option)
    # AUTOMATIC_REBOOT_BETWEEN="22:00-07:00": Auto reboot computer after pkgsync in specified interval
    AUTOMATIC_REBOOT_BETWEEN=""

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  25 Feb 2017 12:17:00 +0100

pkgsync (1.37-2) unstable; urgency=low

  * Added /usr/local/sbin/launchpad-getkeys script to get missing repo keys

 -- Esteban M. Navas Martín <algodelinux@gmail.com> 02 Feb 2017 13:34:00 +0100

pkgsync (1.37-1) unstable; urgency=low

  * Modified /usr/local/sbin/pkgsync to avoid an error message when linex-ubuntu-puppet wasn't installed,
    by example: on IES servers.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  31 Jan 2017 19:17:00 +0100

pkgsync (1.37) unstable; urgency=low

  * Added  new options to /etc/default/pkgsync:
    # Obtener claves de repositorios mediante launchpad-getkeys si launchpad-getkeys se encuentra
    # instalado
    # LAUNCHPAD_GETKEYS="no": no tratar de obtener claves mediante launchpad-getkeys
    # LAUNCHPAD_GETKEYS="yes": tratar de obtener claves mediante launchpad-getkeys (opción por defecto)
    LAUNCHPAD_GETKEYS="yes"

    # Definimos un tiempo máximo de espera a que dpkg o apt hayan terminado antes de realizar pkgsync
    # Este parámetro sirve para evitar evitar que pkgsync quede bloqueado por un fallo anterior de dpkg o apt
    # Este ajuste puede definirse en segundos (30 o 30s), minutos (10m), horas (6h) o días (2d).
    # TIMEOUT_FOR_DPKG_OR_APT="3m": Esperar un tiempo máximo de 3 minutos (valor por defecto)
    TIMEOUT_FOR_DPKG_OR_APT="3m"

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  10 Jan 2017 14:11:00 +0100

pkgsync (1.36) unstable; urgency=low

  * Added  new option to /etc/default/pkgsync:
    # AUTOMATIC_SHUTDOWN_BETWEEN="": Don't shutdown computer after pkgsync (default option)
    # AUTOMATIC_SHUTDOWN_BETWEEN="22:00-07:00": Auto shutdown computer after pkgsync in specified interval
    AUTOMATIC_SHUTDOWN_BETWEEN=""

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  22 Dec 2016 09:27:00 +0100

pkgsync (1.35-2) unstable; urgency=low

  * Solved a bug in remove-orphan-libs option.
  * Added script usr/local/sbin/musthave-build

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  13 Dec 2016 09:54:00 +0100

pkgsync (1.35-1) unstable; urgency=low

  * Added  new option to /etc/default/pkgsync:
    # LAUNCH_SINC_PUPPET="no": Don't boot sinc_puppet before do pkgsync
    # LAUNCH_SINC_PUPPET="yes": Launch sinc_puppet before do pkgsync (default option)
    LAUNCH_SINC_PUPPET="yes"

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  1 Nov 2016 07:00:00 +0100

pkgsync (1.35) unstable; urgency=low

  * Added  -r, --remove-orphan-libs which allow remove orphan libraries.
    The orphan libraries list is stored at /var/log/pkgsync/removefrommusthave.log
    and /etc/pkgsync/musthave.orphan
  * Modified pkgsync code to wait and inform user when pkgsync is waiting for
    apk, dpkg or pkgsync.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  1 Nov 2016 07:00:00 +0100

pkgsync (1.34-1) unstable; urgency=low

  * Modified function solveapterrors to solve a bug

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  21 Nov 2016 12:00:00 +0100

pkgsync (1.34) unstable; urgency=low

  * Modified pkgsync to detect and solve apt problems. Now, apart configure packages when dpkg
    was interrupted, it remove /var/lib/apt/lists if there are corrupted lists.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  20 Nov 2016 21:00:00 +0100

pkgsync (1.33) unstable; urgency=low

  * Modified pkgsync to guarantee all operations are done before poweroff or
    reboot machine

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  14 Nov 2016 11:20:00 +0100

pkgsync (1.32) unstable; urgency=low

  * Modified pkgsync to guarantee status of packages and purge old kernels at start
   
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  04 Nov 2016 14:00:00 +0100

pkgsync (1.31) unstable; urgency=low

  * Changed the way of waiting for sinc_puppet to ensure the delay when the script is started 
    from pkgsync as it's initiated from another shell
  * Added -c, --clean option which allow remove uninstalled packages dependencies, purge uninstalled 
    packages and clean the cache
  * Added -p, --purge option to let remove old kernels. It's don't remove the last two kernels
  * Added -S, --shutdown option to let shutdown system after pkgsync execution
  * Added -R, --reboot option for reboot system after pkgsync execution
  * Added new options to /etc/default/pkgsync:

    # Eliminar kernels antiguos (por defecto deja los dos últimos)
    # PURGE_OLD_KERNELS="no": no elimina kernels antiguos (opción por defecto)
    # PURGE_OLD_KERNELS="yes": elimina kernels antiguos
    PURGE_OLD_KERNELS="no"

    # Eliminar dependencias de paquetes desinstalados, purgar paquetes desinstalados y limpiar la cache
    # CLEAN="no": no hacer limpieza (opción por defecto)
    # CLEAN="yes": hacer limpieza
    CLEAN="no"
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  26 Oct 2016 12:30:00 +0100

pkgsync (1.30) unstable; urgency=low

  * Modified pkgsync to kill stopped processes
  * Launch sinc_puppet if it's installed and wait before update. It's guarantee 
    pkgsync files are updated before execute pkgsync
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  24 Oct 2016 11:28:00 +0100

pkgsync (1.29) unstable; urgency=low

  * Modified pkgsync to wait if it's making indexes updates or packages updates
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  27 May 2016 07:46:00 +0100

pkgsync (1.28) unstable; urgency=low

  * Modified pkgsync to wait if the package manager is running
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  24 May 2016 20:31:00 +0100

pkgsync (1.27) unstable; urgency=low

  * Added option -f, --force which allows force pkgsync execution
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  19 May 2016 12:02:00 +0100

pkgsync (1.26-2) unstable; urgency=low

 * Pequeños detalles, para mejorar la estética y explicación:

   /usr/local/sbin/pkgsync

   # Comprobamos que está activada
   
   [ -r /etc/default/pkgsync ] && . /etc/default/pkgsync
   if [ "$ENABLE" == "no" ] || [ ! "$ENABLE" ]; then
     echo " * [info]: La aplicación 'pkgsync' está desactivada en /etc/default/pkgsync."
     echo "           Para activarla poner el valor ."
     exit 0
   fi

   /etc/default/pkgsync

   # Activar o desactivar pkgsync:
   #  ENABLE="yes": activa pkgsync (opción por defecto)
   #  ENABLE="no" : desactiva pkgsync
   #  Si no existe la variable ENABLE o no tiene valor, es equivalente al valor 'no'.
   ENABLE="yes"

    (proposed by Antonio Abasolo)
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  10 May 2016 17:52:00 +0100

pkgsync (1.26) unstable; urgency=low

  * Added option ENABLE to /etc/default/pkgsync to let disable pkgsync changing
       ENABLE="yes" (default option)

       by:

       ENABLE="no"
    (proposed by Antonio Abasolo)
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  09 May 2016 18:10:00 +0100

pkgsync (1.25-2) unstable; urgency=low

  * Create directories musthave.d, mayhave.d and maynothave.d for a best organization.
  * Add /etc/default/pkgsync configuration file to let ignore musthave, mayhave and/or
    maynothave files when package lists are incompatible with musthave.ies, mayhave.ies
    and maynothave.ies:
       IGNORE_MUSTHAVE="yes"
       IGNORE_MAYHAVE="yes"
       IGNORE_MAYNOTHAVE="yes"
  * Added -t, --test-files option for test if pkgsync files have packages that aren't at
    repositories.
 
 -- Esteban M. Navas Martín <algodelinux@gmail.com>  19 Nov 2015 13:00:05 +0100

pkgsync (1.25) unstable; urgency=medium

  * When listing installed packages, filter out everything after the colon,
    so that we do not get commandlines that try to (e.g.) install libfoo and
    set libfoo:amd64 to manually installed at the same time, causing
    flip-flopping between runs.

 -- Steinar H. Gunderson <sesse@debian.org>  Sat, 18 Jul 2015 12:32:23 +0200
 
pkgsync (1.24-2) unstable; urgency=low

  * Add shared management for two sysadmin, merging two different lists:
    * musthave, mayhave, maynothave.
    * musthave.ies, mayhave.ies, maynothave.ies.

 -- Esteban M. Navas Martín <algodelinux@gmail.com>  11 Dec 2013 12:00:33 +0100

pkgsync (1.24) unstable; urgency=medium

  * Remove trailing whitespace from packages, fixing warnings like
    “Couldn't find package ""” from aptitude.

 -- Steinar H. Gunderson <sesse@debian.org>  Sun, 07 Jun 2015 21:56:09 +0200

pkgsync (1.23) unstable; urgency=low

  * Properly anchor the kernel version regex when using aptitude globbing;
    patch from Tollef Fog Heen. (Closes: #731241)

 -- Steinar H. Gunderson <sesse@debian.org>  Wed, 04 Dec 2013 00:29:33 +0100

pkgsync (1.22) unstable; urgency=high

  * Deal with changes introduced in aptitude 0.6.1.4-1: Add '?upgradable'
    first of all at dist-upgrade line, so all packages are upgraded,
    not just the one explicitly mentioned in mayhave/musthave/maynothave.
    * Update aptitude dependency to 0.6.1.4-1, sine it's not immediately
      clear when '?upgradable' was implemented.
  * Use full-upgrade instead of dist-upgrade.
  * Upgrade to Standards-Version 3.8.4 (no changes needed).
  * Upgrade to debhelper compat level 7. Update debhelper Build-Depends;
    no other changes needed.
  * Add ${misc:Depends} to Depends line, to keep lintian happy.
  * Remove empty prerm fragment.

 -- Steinar H. Gunderson <sesse@debian.org>  Sat, 20 Mar 2010 11:03:43 +0100

pkgsync (1.21) unstable; urgency=low

  * Use aptitude update instead of apt-get update. 

 -- Steinar H. Gunderson <sesse@debian.org>  Tue, 20 Nov 2007 23:21:44 +0100

pkgsync (1.20) unstable; urgency=high

  * Remove a few extra quotes from the aptitude options.

 -- Steinar H. Gunderson <sesse@debian.org>  Tue, 20 Nov 2007 01:12:22 +0100

pkgsync (1.19) unstable; urgency=high

  * Instead of doing "yes n |" in nightly-pkgsync, which seems to confuse
    newer aptitude, give proper dpkg options to do sane things with conffiles.

 -- Steinar H. Gunderson <sesse@debian.org>  Sat, 17 Nov 2007 15:56:52 +0100

pkgsync (1.18) unstable; urgency=low

  * Update the manual page with the fact that --aptitude-glob is default.

 -- Steinar H. Gunderson <sesse@debian.org>  Sun, 23 Sep 2007 16:33:14 +0200

pkgsync (1.17) unstable; urgency=low

  * Switch to aptitude globbing by default.
    * Add NEWS.Debian file describing the change.

 -- Steinar H. Gunderson <sesse@debian.org>  Tue, 17 Apr 2007 13:34:18 +0200

pkgsync (1.16) unstable; urgency=low

  * Add "set -o noglob" to make sure wildcard patterns aren't attempted
    globbed. This is a bashism, so change the shebang to #! /bin/bash.

 -- Steinar H. Gunderson <sesse@debian.org>  Sun, 27 Aug 2006 20:26:11 +0200

pkgsync (1.15) unstable; urgency=low

  * Support aptitude's globbing over dpkg's globbing. Unfortunately, this is
    not backwards-compatible, so we'll have to invent a new flag; after etch,
    this will probably become the default.
  * Update the man page and the --help output to know the new options.
  * Bump to Standards-version 3.7.2 (no changes needed).

 -- Steinar H. Gunderson <sesse@debian.org>  Thu, 24 Aug 2006 19:49:40 +0200

pkgsync (1.14) unstable; urgency=low

  * Ship (empty) /etc/pkgsync directory.
  * Update version number in binary.

 -- Steinar H. Gunderson <sesse@debian.org>  Sun,  9 Jul 2006 13:55:53 +0200

pkgsync (1.13) unstable; urgency=low

  * Make Build-depends-indep on debhelper into an ordinary build-depends, as
    we use it in non-indep targets.

 -- Steinar H. Gunderson <sesse@debian.org>  Thu, 15 Jun 2006 21:50:28 +0200

pkgsync (1.12) unstable; urgency=low

  * Upload to unstable instead of experimental (1.11 was supposed to, but
    I forgot).
  * Mention the documentation in --help.
  * Update the man page with the new options.

 -- Steinar H. Gunderson <sesse@debian.org>  Wed,  8 Mar 2006 17:13:07 +0100

pkgsync (1.11) experimental; urgency=low

  * Use getopt to take command line arguments:
    * Add run-time help (--help).
    * Add a simulation mode (--simulate). (Closes: #298459)
    * Add a flag to make removing optional (--keep-unused). (Closes: #240319)
    * Document the command line options in README.Debian.
  * Give -q to aptitude, to suppress the progress indicator. (Closes: #240882)
  * Version our dependency on aptitude, to make sure we have one that supports
    -q and -o.

 -- Steinar H. Gunderson <sesse@debian.org>  Wed,  8 Mar 2006 16:22:28 +0100

pkgsync (1.10) experimental; urgency=low

  * Don't use COLUMNS=5000 anymore; it's redundant with newer dpkg.
  * Update a few comments in the script.
  * Documentation overhaul -- update with information about the new workings,
    old quirks that are no more, and new quirks that replace old quirks.
    * Document example cfengine setup.
  * Remove more explicit path usage.
  * Upgrade to debhelper compatibility level 5 (no changes needed).
    * Update versioned Build-Depends accordingly.
  * Use sort -u after reading all the package lists; duplicates could give
    odd effects with the filtering.
  * Added a GPL and copyright notice to the script itself.

 -- Steinar H. Gunderson <sesse@debian.org>  Mon,  6 Mar 2006 16:35:30 +0100

pkgsync (1.9) experimental; urgency=low

  * Run everything in one large aptitude invocation instead of multiple small
    ones. This should make pkgsync more consistent across runs in corner cases
    (no flip-flapping if something is in both musthave and maynothave, for
    instance), as well as open the opportunity for much easier simulation.

 -- Steinar H. Gunderson <sesse@debian.org>  Sun,  5 Mar 2006 16:47:27 +0100

pkgsync (1.8) unstable; urgency=low

  * In some points, add musthave and mayhave into a combined list without
    duplicates. This makes it possible to have a package both in musthave
    and mayhave (for instance, a kernel package both as linux-image-whatever
    in musthave and as meta:current-kernel in mayhave :-) ) without total
    blowup due to how filter() works.

 -- Steinar H. Gunderson <sesse@debian.org>  Fri,  3 Mar 2006 18:07:20 +0100

pkgsync (1.7) unstable; urgency=low

  * Add a special package "meta:current-kernel", which matches kernel packages
    for the currently used kernel.
    * Mention it in the documentation.
  * Moved the debtags documentation down into its own section.

 -- Steinar H. Gunderson <sesse@debian.org>  Fri,  3 Mar 2006 17:18:30 +0100

pkgsync (1.6) unstable; urgency=low

  * Have the cron script check that /usr/sbin/pkgsync exists before trying
    to run it; patch from Reinhard Tartler. (Closes: #351280)
  * Don't use absolute paths everywhere in the cron script, as we already
    set the path explicitly, nobody else does it and it really doesn't serve
    any good use.

 -- Steinar H. Gunderson <sesse@debian.org>  Fri,  3 Feb 2006 23:26:43 +0100

pkgsync (1.5) unstable; urgency=low

  * Don't compress README.Debian file, as the default error message doesn't
    mention a .gz prefix. (Closes: #323891)
  * Include example files. (Closes: #332438)

 -- Steinar H. Gunderson <sesse@debian.org>  Mon, 10 Oct 2005 18:18:57 +0200

pkgsync (1.4) unstable; urgency=low

  * The Debconf 5 edition :-)
  * Run "apt-get update" instead of "aptitude update ; dselect update".
  * Support for debtags; see the README.Debian file for more information.
  * Updated README.Debian with information on signed apt archives.
  * Updated Standards-version to 3.6.2, no changed needed.

 -- Steinar H. Gunderson <sesse@debian.org>  Fri, 15 Jul 2005 14:19:11 +0200

pkgsync (1.3) unstable; urgency=low

  * Support glob patterns in lists.

 -- Steinar H. Gunderson <sesse@debian.org>  Tue, 18 May 2004 21:47:57 +0200

pkgsync (1.2) unstable; urgency=low

  * Added cfengine2 to Suggests: line. (Closes: #242263)
  * pkgsync no longer fails when a package list is empty. (Closes: #248978)

 -- Steinar H. Gunderson <sesse@debian.org>  Fri, 14 May 2004 13:25:31 +0200

pkgsync (1.1) unstable; urgency=low

  * Bump to a version number without a Debian revision number, as pkgsync is a
    native Debian package.

 -- Steinar H. Gunderson <sesse@debian.org>  Sun, 14 Mar 2004 16:00:14 +0100

pkgsync (1.0-5) unstable; urgency=low

  * Initial upload to Debian. (Closes: #236496)
  * Added README.Debian file.
  * Added manpage.
  * Changed maintainer address to my @debian.org address.
  * Fixed a bashism ("function" for defining shell functions); dash should now
    run pkgsync properly.
  * Added "Suggests: cfengine | rdist" line.
  * Added a reference to the README.Debian file in the error message that is
    output if /etc/pkgsync is empty.

 -- Steinar H. Gunderson <sesse@debian.org>  Sun, 14 Mar 2004 15:13:23 +0100

pkgsync (1.0-4) unstable; urgency=low

  * Set explicit paths everywhere in the script.
  * Add /usr/bin and /bin to PATH in nightly-pkgsync.
  * Remove /etc/cron.d/pkgsync in postinst.

 -- Steinar H. Gunderson <sgunderson@bigfoot.com>  Sat,  6 Mar 2004 11:30:45 +0100

pkgsync (1.0-3) unstable; urgency=low

  * Set PATH in nightly-pkgsync.
  * Remove packages before adding new ones, in case we're a bit low on space.

 -- Steinar H. Gunderson <sgunderson@bigfoot.com>  Fri,  5 Mar 2004 13:57:56 +0100

pkgsync (1.0-2) unstable; urgency=low

  * Changed from a cron.d fragment to using cron.daily.
  * pkgsync.log is now not removed after running pkgsync, it is simply
    overwritten every night.

 -- Steinar H. Gunderson <sgunderson@bigfoot.com>  Thu,  4 Mar 2004 16:22:49 +0100

pkgsync (1.0-1) unstable; urgency=low

  * Initial release.

 -- Steinar H. Gunderson <sgunderson@bigfoot.com>  Wed,  3 Mar 2004 22:40:46 +0100
